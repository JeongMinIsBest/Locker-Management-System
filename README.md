# Real-time Locker Management System 🔒

- 다중 사용자의 사물함 이용에 따라 실시간으로 사물함 상태를 관리하는 시스템입니다.
- 라이언트와 서버 간의 네트워크 통신을 통해 사물함의 사용, 비밀번호 변경, 해제 등의 기능을 수행합니다.

<br/>

## 프로젝트 개요 ✏️ 

👩‍💻 기획 및 개발 : 임정민

🗓 개발 기간 : 2024년 6월 10일 - 6월 17일 (총 8일)

📚 프로젝트 명 : 2024-1학기 리눅스 프로그래밍 기말 프로젝트

<br/>

## 실행 방법 🖱️ 

```gcc -o server server.c -lpthread``` : 스레드를 사용한 서버 프로그램 생성

```./server``` : 서버 프로그램 실행

```gcc -o client client.c``` : 서버 연결 및 데이터를 송수신하는 클라이언트 프로그램 생성

```./client``` : 클라이언트 프로그램 실행

<br/>

## 프로그램 흐름도 📈 

### 1. 서버 실행 ```server.c```

- 사물함 개수 및 비밀번호 조건 입력

- 사물함 상태 파일 로드 또는 생성

- 서버 소켓 생성 및 클라이언트 연결 대기

### 2. 클라이언트 실행 ```client.c```

- 서버에 접속 후 명령어 입력

### 3. 기능 수행

- 사물함 목록 조회

- 물건 보관 및 비우기

- 비밀번호 변경

### 4. 사물함 상태 저장 및 종료

<br/>

## 사물함 보관 시스템 기능 소개 💡 

### 1. 사물함 개수 및 비밀번호 조건 설정

- 사용 가능한 사물함과 사용 중인 사물함을 조회할 수 있습니다.

- 서버로부터 사물함 리스트를 받아 화면에 출력합니다.

</br>

### 2. 사물함 보관 및 물건 꺼내기

- 클라이언트가 사물함을 선택하여 물건을 보관할 수 있습니다.

- 보관 시, 사용자는 비밀번호를 설정해야 합니다.

- 올바른 비밀번호를 입력해야 물건을 꺼낼 수 있습니다.

- 비밀번호가 3회 틀릴 경우, 사물함이 30초 동안 잠깁니다.

</br>

### 3. 비밀번호 설정 및 변경

- 기존 비밀번호를 입력한 후 새로운 비밀번호를 설정할 수 있습니다.

</br>

## 구현에 있어 중요한 포인트 🚨 

### ✅ 멀티스레딩을 통한 동시 클라이언트 처리

- 여러 사용자가 동시에 서버에 접속할 수 있도록 pthread를 사용하여 처리합니다.

- 클라이언트 요청이 동시에 들어올 경우에도 데이터 충돌이 발생하지 않도록 동기화가 필요합니다.

</br>

### ✅ 사물함 시스템 데이터 보존

- 서버 종료 후에도 사물함 상태를 유지하기 위해 lockers.dat 파일을 이용합니다.

- 서버 실행 시 해당 파일을 로드하여 이전 상태를 복구할 수 있습니다.

</br>

### ✅ 실시간 사물함 정보 반영

- 클라이언트 요청 시 최신 사물함 상태를 반영하여 응답을 보냅니다.

- 사용자가 사물함을 선택하면, 서버에서 현재 상태를 검사하고 결과를 반환합니다.

</br>
